@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html { scroll-behavior: smooth; }
  body { @apply text-secondary-900 bg-secondary-50; }
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

@layer components {
  .btn { @apply inline-flex items-center justify-center gap-2 align-middle whitespace-nowrap leading-none select-none relative overflow-hidden active:scale-[0.99]; }
  .btn-primary { @apply btn bg-primary-600 hover:bg-primary-700 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 ease-[cubic-bezier(.2,.8,.2,1)]; }
  .btn-secondary { @apply btn bg-secondary-200 hover:bg-secondary-300 text-secondary-800 font-medium py-3 px-6 rounded-lg transition-all duration-300 ease-[cubic-bezier(.2,.8,.2,1)]; }

  .card { @apply bg-white rounded-xl shadow-sm border border-secondary-200 p-6 hover:shadow-lg transition-all duration-300 ease-[cubic-bezier(.2,.8,.2,1)] hover:scale-[1.01] hover:-translate-y-1; }
  .input-field { @apply w-full px-3 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200; }

  .page-transition { @apply animate-fade-in; }

  /* М’які ховери */
  .hover-lift { @apply transition-all duration-300 ease-[cubic-bezier(.2,.8,.2,1)] md:hover:scale-[1.02] md:hover:-translate-y-1 md:hover:shadow-lg; }
  .hover-glow { @apply transition-all duration-300 ease-[cubic-bezier(.2,.8,.2,1)] hover:shadow-lg hover:shadow-primary-200; }

  .loading-pulse { @apply animate-pulse-slow; }
  .text-fade-in { @apply animate-fade-in; }
  .text-slide-up { @apply animate-slide-up; }

  .nav-link { @apply relative transition-all duration-200 ease-[cubic-bezier(.2,.8,.2,1)] hover:text-primary-600; }
  .nav-link::after { content: ''; @apply absolute bottom-0 left-0 w-0 h-0.5 bg-primary-600 transition-all duration-300 ease-[cubic-bezier(.2,.8,.2,1)] pointer-events-none; }
  .nav-link:hover::after { @apply w-full; }

  .story-card { @apply transition-all duration-300 ease-[cubic-bezier(.2,.8,.2,1)] hover:scale-[1.01] hover:-translate-y-1 hover:shadow-xl; }
  .story-card:hover .story-image { @apply scale-105; }

  .btn-animate { @apply relative overflow-hidden transition-all duration-300 ease-[cubic-bezier(.2,.8,.2,1)] md:hover:scale-[1.02]; }
  .btn-animate::before { content: ''; @apply absolute inset-0 bg-white opacity-0 transition-opacity duration-300 ease-[cubic-bezier(.2,.8,.2,1)] pointer-events-none; }
  .btn-animate:hover::before { @apply opacity-20; }

  .form-field { @apply transition-all duration-200 ease-[cubic-bezier(.2,.8,.2,1)] focus:scale-[1.01]; }

  .modal-overlay { @apply fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm opacity-0 transition-opacity duration-300 ease-[cubic-bezier(.2,.8,.2,1)]; }
  .modal-content { @apply bg-white rounded-xl shadow-2xl transform transition-all duration-300 ease-[cubic-bezier(.2,.8,.2,1)] scale-95 opacity-0 translate-y-2; }
  .modal-content.show { @apply scale-100 opacity-100 translate-y-0; }

  .stagger-item { @apply animate-slide-up; }
  .stagger-item:nth-child(1) { animation-delay: 0ms; }
  .stagger-item:nth-child(2) { animation-delay: 100ms; }
  .stagger-item:nth-child(3) { animation-delay: 200ms; }
  .stagger-item:nth-child(4) { animation-delay: 300ms; }
  .stagger-item:nth-child(5) { animation-delay: 400ms; }
  .stagger-item:nth-child(6) { animation-delay: 500ms; }

  /* Skeleton */
  .skeleton { @apply relative overflow-hidden bg-secondary-200/60 rounded-lg; }
  .skeleton::after { content: ''; position: absolute; inset: 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent); animation: shimmer 1.2s infinite; }
  .skeleton-text { @apply h-3 bg-secondary-200/70 rounded; }
  @keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }

  /* Route progress */
  .route-progress { @apply fixed top-0 left-0 right-0 h-0.5 z-[2000]; }
  .route-progress-bar { height: 100%; width: 0%; background: linear-gradient(90deg, #de5a0f, #ed7519); animation: progressFill 0.6s ease-out forwards; }
  @keyframes progressFill { from { width: 0%; } to { width: 100%; } }

  /* Typewriter input (Hero) */
  .tw-input { @apply w-full max-w-2xl mx-auto bg-white/90 backdrop-blur border border-secondary-200 rounded-xl p-3 pl-4 pr-4 shadow-sm hover:shadow-md transition-shadow duration-300 cursor-text; }
  .tw-row { @apply flex items-center gap-3; }
  .tw-caret { width: 2px; height: 1.25rem; background: #de5a0f; animation: caretBlink 1s step-end infinite; }
  @keyframes caretBlink { 50% { opacity: 0; } }
}
